{% extends 'base.html' %}

{% block content %}
<h1>Welcome, {{ user.first_name }} {{ user.last_name }}</h1>
<p>Your personalized workout calendar is below.</p>

<h2>Upcoming Workouts</h2>
<ul>
    {% for workout in upcoming_workouts %}
        <li>{{ workout.date }}: {{ workout.name }} - {{ workout.description }}</li>
    {% empty %}
        <p>No upcoming workouts scheduled.</p>
    {% endfor %}
</ul>

<h2>Your Progress</h2>
<p>Workouts completed: {{ completed_workouts }}</p>
<p>Total hours spent: {{ hours_spent }}</p>

<h2>Your Goals</h2>
<ul>
    {% for goal in active_goals %}
        <li>
            <strong>{{ goal.name }}</strong>: {{ goal.progress }}/{{ goal.target }} 
            ({{ goal.percentage_complete|floatformat:2 }}%)
            {% if goal.due_date %}
                <p>Due by: {{ goal.due_date }}</p>
            {% endif %}
        </li>
    {% empty %}
        <p>No active goals. Set a new one today!</p>
    {% endfor %}
</ul>

<!-- Add the link to create a new goal here -->
<a href="{% url 'create_goal' %}" class="btn btn-primary">Add a New Goal</a>

<h2>Workout History</h2>
<a href="{% url 'workout_history' %}" class="btn btn-secondary">View All Past Workouts</a>

{% endblock %}
